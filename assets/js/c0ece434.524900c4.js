"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[200],{4783:(a,t,e)=>{e.r(t),e.d(t,{assets:()=>c,contentTitle:()=>d,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>i});var o=e(4848),n=e(8453);const r={sidebar_position:1},d="1. Download NCBI SRA metadata from BigQuery",s={id:"data-processing/download-ncbi-sra-metadata",title:"1. Download NCBI SRA metadata from BigQuery",description:"1.1 Export data from BigQuery to GCP bucket",source:"@site/docs/data-processing/download-ncbi-sra-metadata.md",sourceDirName:"data-processing",slug:"/data-processing/download-ncbi-sra-metadata",permalink:"/tracy-sra-doc/docs/data-processing/download-ncbi-sra-metadata",draft:!1,unlisted:!1,editUrl:"https://github.com/tracywong117/tracy-sra-doc/tree/main/docs/docs/data-processing/download-ncbi-sra-metadata.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Data Processing",permalink:"/tracy-sra-doc/docs/category/data-processing"},next:{title:"2. Download study data",permalink:"/tracy-sra-doc/docs/data-processing/download-study-data"}},c={},i=[{value:"1.1 Export data from BigQuery to GCP bucket",id:"11-export-data-from-bigquery-to-gcp-bucket",level:2},{value:"1.2 Download data in batch from GCP bucket",id:"12-download-data-in-batch-from-gcp-bucket",level:2}];function l(a){const t={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,n.R)(),...a.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"1-download-ncbi-sra-metadata-from-bigquery",children:"1. Download NCBI SRA metadata from BigQuery"}),"\n",(0,o.jsx)(t.h2,{id:"11-export-data-from-bigquery-to-gcp-bucket",children:"1.1 Export data from BigQuery to GCP bucket"}),"\n",(0,o.jsx)(t.p,{children:"With the use of GCP(Google Cloud) bucket, the data on BigQuery is available for downloading."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-sql",children:"EXPORT DATA\nOPTIONS (\nuri = 'gs://sep-sra-metadata/SRA-full-metadata-*.json',\nformat = 'JSON'\n)\nAS (\nSELECT * EXCEPT(jattr)\nFROM `nih-sra-datastore.sra.metadata`\n);\n"})}),"\n",(0,o.jsx)(t.h2,{id:"12-download-data-in-batch-from-gcp-bucket",children:"1.2 Download data in batch from GCP bucket"}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsxs)(t.li,{children:["Install gcloud CLI",(0,o.jsx)(t.br,{}),"\n",(0,o.jsx)(t.a,{href:"https://cloud.google.com/sdk/docs/install",children:"https://cloud.google.com/sdk/docs/install"})]}),"\n",(0,o.jsxs)(t.li,{children:["Authorize access with a GCP service account. Download all the metadata file in current local folder.","\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"gcloud auth login\ngsutil -m cp gs://sep-sra-metadata/SRA-full-metadata-{000000000000..000000001504}.json .\n"})}),"\n"]}),"\n",(0,o.jsx)(t.li,{children:"Note that all SRA metadata will be called ^^records^^ in the following content."}),"\n"]})]})}function u(a={}){const{wrapper:t}={...(0,n.R)(),...a.components};return t?(0,o.jsx)(t,{...a,children:(0,o.jsx)(l,{...a})}):l(a)}},8453:(a,t,e)=>{e.d(t,{R:()=>d,x:()=>s});var o=e(6540);const n={},r=o.createContext(n);function d(a){const t=o.useContext(r);return o.useMemo((function(){return"function"==typeof a?a(t):{...t,...a}}),[t,a])}function s(a){let t;return t=a.disableParentContext?"function"==typeof a.components?a.components(n):a.components||n:d(a.components),o.createElement(r.Provider,{value:t},a.children)}}}]);